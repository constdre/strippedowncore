@using Microsoft.AspNetCore.Http
@using ASPracticeCore.Utils;
@using ASPracticeCore.Areas.Accounts.Models;
@using ASPracticeCore.Repositories;
@using System.Security.Claims;
@inject IHttpContextAccessor HttpContextAccessor

@{
    //int userId = default;
    //string nameUser = default;

    bool isAuthenticated = HttpContextAccessor.HttpContext.User.Identity.IsAuthenticated;
    //if (isAuthenticated == true)
    //{
    //    nameUser = HttpContextAccessor.HttpContext.User.Identity.Name;
    //}

}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <meta charset="utf-8" />
    <title>@ViewData["title"]</title>
    @*<link href="~/css/materialize.css" rel="stylesheet" />
            <script src="~/js/materialize.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Raleway|Roboto" rel="stylesheet">*@
    <link rel="stylesheet" href="~/css/general.css" asp-append-version="true" />

</head>
<body>

    <nav>
        <a class="logo" href="/Home/Index">ItemInventoryTemplate</a>
        <div class="nav__menu">
            <ul>
                <li><a href="/Home/Index">Home</a></li>
                <li><a href="/Home/About">About</a></li>
                @if (isAuthenticated)
                {
                    <li class="dropdown">
                        Hello, @ViewData["personName"]
                        <div class="dropdown-container">
                            <div class="dropdown-triangle">

                            </div>
                            <ul class="dropdown-list">
                                <li><a href='#'>Manage Profile</a></li>
                                <li><a href='@Url.Action("UserShareables", "Shareable")'>My Shareables</a></li>
                                <li><a href='@Url.Action("Logout", "Access", new { Area="Accounts"})'>Logout</a></li>
                            </ul>
                        </div>


                    </li>
                }
                else
                {
                    <li id="login"><a href="/Accounts/Access/Login">Login</a></li>
                }

            </ul>
        </div>
    </nav>

    @*   <nav class="nav">


            <a class="logo" href="/Home/Index">ItemInventoryTemplate</a>
            <div class="nav__menu">
                <ul>
                    <li class="nav-item"><a class="nav__a" href="/Home/Index">Home</a></li>
                    <li class="nav-item"><a class="nav__a" href="/Home/About">About</a></li>
                    @if (isAuthenticated)
                    {
                        <li class="nav-item nav-item--rightmost dropdown">
                            Hello @user.Name
                            <ul class="dropdown__content">

                                <li><a href='#' class="dropdown__item">Manage Profile</a></li>

                                <li><a class="dropdown__item" href='@Url.Action("ManageShareables", "Shareable", new { userId = user.Id })'>My Shareables</a></li>

                            </ul>

                        </li>
                    }
                    else
                    {
                        <li class="nav-item nav-item--rightmost" id="login"><a class="nav__a" href="/Accounts/Access/Login">Login</a></li>
                    }

                </ul>
            </div>
        </nav>
    *@


    <partial name="_CookieConsentPartial" />

    <script src="~/js/site.js"></script>

    <div class="">
        @RenderBody()
    </div>

    <footer>
        Template Web App - Lourd Andre B. Ammuyutan
    </footer>


</body>
</html>
